---
title: Action hooks available in the core of CoCart
sidebarTitle: 'In Core'
description: 'Trigger an action when these hooks are called'
---

## `cocart_update_cart_before_totals`
Fires before the cart has updated via a callback, but before cart totals are re-calculated.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$request` | `WP_REST_Request` | The request object. |
| `$controller` | `object` | The cart controller. |

- **Since**: 4.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_update_cart_before_totals', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/abstracts/abstract-cocart-extension-callback.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/abstracts/abstract-cocart-extension-callback.php#L85)

---

## `cocart_update_cart_after_totals`
Fires after the cart has updated via a callback and the cart totals are re-calculated.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$request` | `WP_REST_Request` | The request object. |
| `$controller` | `object` | The cart controller. |

- **Since**: 4.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_update_cart_after_totals', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/abstracts/abstract-cocart-extension-callback.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/abstracts/abstract-cocart-extension-callback.php#L98)

---

## `cocart_init`
Fires once CoCart has finished loading.

- **Since**: 3.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_init', function() {
    // Your code here
});
```

**Defined in**: [`includes/class-cocart.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/class-cocart.php#L142)

---

## `cocart_updated`
Runs after CoCart has been updated.

- **Since**: 1.2.0 Introduced.

**Usage**
```php
do_action( 'cocart_updated', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/class-cocart-install.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/class-cocart-install.php#L78)

---

## `cocart_installed`
Runs after CoCart has been installed.

- **Since**: 1.2.0 Introduced.

**Usage**
```php
do_action( 'cocart_installed', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/class-cocart-install.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/class-cocart-install.php#L256)

---

## `cocart_after_session_saved_data`
Fires after session data is saved.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$customer_id` | `int` | Customer ID. |
| `$data` | `array` | Cart data. |
| `$cart_expiration` | `int` | Cart expiration. |
| `$cart_source` | `string` | Cart source. |

- **Since**: 4.2.0 Introduced.

**Usage**
```php
do_action( 'cocart_after_session_saved_data', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/class-cocart-session-handler.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/class-cocart-session-handler.php#L382)

---

## `cocart_load_cart_override`
cocart_load_cart_override. Manipulate the overriding cart before it set in session.

- **Since**: 2.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_load_cart_override', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/class-cocart-session.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/class-cocart-session.php#L254)

---

## `cocart_load_cart`
cocart_load_cart. Manipulate the merged cart before it set in session.

- **Since**: 2.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_load_cart', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/class-cocart-session.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/class-cocart-session.php#L276)

---

## `cocart_cart_loaded`
cocart_cart_loaded. Fires once a cart has loaded. Can be used to trigger a webhook.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$cart_key` | `string` | The cart key. |

- **Since**: 3.8.0 Introduced.

**Usage**
```php
do_action( 'cocart_cart_loaded', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/class-cocart-session.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/class-cocart-session.php#L336)

---

## `cocart_update_cart_before_totals`
<Warning>**Deprecated:** 4.1.0 Replaced with `cocart_update_cart_before_totals` hook.</Warning>

**See Also:**
- `cocart_update_cart_before_totals`
Fires after the cart has updated via a callback.

- **Since**: 3.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_update_cart_before_totals', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/rest-api/callbacks/update-cart.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/callbacks/update-cart.php#L118)

---

## `cocart_register_extension_callback`
cocart_register_extension_callback.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$cart_extension` | `CoCart_Cart_Extension` | Instance of the CoCart_Cart_Extension class which exposes the CoCart_Cart_Extension::register() method. |

- **Since**: 3.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_register_extension_callback', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/class-cocart-cart-extension.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/class-cocart-cart-extension.php#L62)

---

## `cocart_item_added_updated_in_cart`
Fires if item was added again to the cart but updated the quantity.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$cart_item_key` | `string` | Item key of the item added again. |
| `$item_added` | `array` | Item added to cart again. |
| `$new_quantity` | `int` | New quantity of the item. |

- **Since**: 2.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_added_updated_in_cart', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-add-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-add-item-controller.php#L259)

---

## `cocart_item_added_to_cart`
Fires once an item has been added to cart.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$item_key` | `string` | Item key of the item added. |
| `$item_added` | `array` | Item added to cart. |

- **Since**: 2.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_added_to_cart', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-add-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-add-item-controller.php#L280)

---

## `cocart_before_cart_emptied`
Triggers before the cart emptied.

- **Since**: 1.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_before_cart_emptied', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-clear-cart-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-clear-cart-controller.php#L71)

---

## `cocart_cart_emptied`
Triggers once the cart is emptied.

- **Since**: 1.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_cart_emptied', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-clear-cart-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-clear-cart-controller.php#L114)

---

## `cocart_cart_cleared`
Triggers once the cart is cleared.

- **Since**: 1.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_cart_cleared', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-clear-cart-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-clear-cart-controller.php#L122)

---

## `cocart_get_cart`
cocart_get_cart.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$cart_contents` | `array` | Cart contents. |

- **Since**: 2.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_get_cart', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-controller.php#L131)

---

## `cocart_item_removed`
cocart_item_removed

| Parameter | Type | Description |
|-----------|------|-------------|
| `$current_data` | `array` | The cart item data. |

- **Since**: 2.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_removed', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-item-controller.php#L141)

---

## `cocart_item_restored`
cocart_item_restored

| Parameter | Type | Description |
|-----------|------|-------------|
| `$current_data` | `array` | The cart item data. |

- **Since**: 2.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_restored', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-item-controller.php#L219)

---

## `cocart_item_quantity_changed`
cocart_item_quantity_changed

| Parameter | Type | Description |
|-----------|------|-------------|
| `$item_key` | `string` | Item key. |
| `$new_data` | `array` | Item data. |

- **Since**: 2.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_quantity_changed', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/cart/class-cocart-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/cart/class-cocart-item-controller.php#L392)

---

## `cocart_insert_product_review`
Fires after a comment is created via the REST API.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$review` | `WP_Comment` | Inserted comment object. |
| `$request` | `WP_REST_Request` | The request object. |
| `$creating` | `bool` | True when creating a comment, false when updating. |


**Usage**
```php
do_action( 'cocart_insert_product_review', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v1/products/class-cocart-product-reviews-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v1/products/class-cocart-product-reviews-controller.php#L433)

---

## `cocart_item_added_to_cart`
Fires once an item has been added to cart.

| Parameter | Type | Description |
|-----------|------|-------------|
| `$item_key` | `string` | Item key of the item added. |
| `$item_added` | `array` | Item added to cart. |
| `$request` | `WP_REST_Request` | The request object. |

- **Since**: 2.1.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_added_to_cart', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v2/cart/class-cocart-add-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v2/cart/class-cocart-add-item-controller.php#L412)

---

## `cocart_before_cart_emptied`
Triggers before the cart emptied.

- **Since**: 1.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_before_cart_emptied', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/rest-api/controllers/v2/cart/class-cocart-clear-cart-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v2/cart/class-cocart-clear-cart-controller.php#L96)

---

## `cocart_cart_emptied`
Triggers once the cart is emptied.

- **Since**: 1.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_cart_emptied', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/rest-api/controllers/v2/cart/class-cocart-clear-cart-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v2/cart/class-cocart-clear-cart-controller.php#L119)

---

## `cocart_cart_cleared`
Triggers once the cart is cleared.

- **Since**: 1.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_cart_cleared', function() {
    // Your code here
});
```

**Defined in**: [`includes/classes/rest-api/controllers/v2/cart/class-cocart-clear-cart-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v2/cart/class-cocart-clear-cart-controller.php#L137)

---

## `cocart_item_removed`
cocart_item_removed

| Parameter | Type | Description |
|-----------|------|-------------|
| `$current_data` | `array` | The product object. |

- **Since**: 2.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_removed', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v2/cart/class-cocart-remove-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v2/cart/class-cocart-remove-item-controller.php#L159)

---

## `cocart_item_restored`
cocart_item_restored

| Parameter | Type | Description |
|-----------|------|-------------|
| `$current_data` | `array` | The product object. |

- **Since**: 2.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_restored', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v2/cart/class-cocart-restore-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v2/cart/class-cocart-restore-item-controller.php#L133)

---

## `cocart_item_quantity_changed`
cocart_item_quantity_changed

| Parameter | Type | Description |
|-----------|------|-------------|
| `$item_key` | `string` | Item key. |
| `$new_data` | `array` | Item data. |

- **Since**: 2.0.0 Introduced.

**Usage**
```php
do_action( 'cocart_item_quantity_changed', function() {
    // Your code here
}, 10, );
```

**Defined in**: [`includes/classes/rest-api/controllers/v2/cart/class-cocart-update-item-controller.php`](https://github.com/co-cart/co-cart/blob/trunk/includes/classes/rest-api/controllers/v2/cart/class-cocart-update-item-controller.php#L190)

---

